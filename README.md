# UAV-RL
# –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–π –∞–≤—Ç–æ–ø–∏–ª–æ—Ç –ë–ü–õ–ê —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º RLlib, ROS2 –∏ Gazebo

–†–æ–±–æ—Ç–æ—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∞–≤—Ç–æ–ø–∏–ª–æ—Ç–æ–≤ –∫–≤–∞–¥—Ä–æ–∫–æ–ø—Ç–µ—Ä–æ–≤ —Å –≥–ª—É–±–æ–∫–∏–º –æ–±—É—á–µ–Ω–∏–µ–º —Å –ø–æ–¥–∫—Ä–µ–ø–ª–µ–Ω–∏–µ–º. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏—é –∫ —Ü–µ–ª–∏, —Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø–æ —Ç–æ—á–∫–∞–º –∏ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –±—É–¥—É—â–µ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Å –æ–±—Ö–æ–¥–æ–º –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π.

## –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- üéØ –ù–∞–≤–∏–≥–∞—Ü–∏—è –∫ —Ü–µ–ª—è–º (–æ–¥–∏–Ω–æ—á–Ω–∞—è —Ü–µ–ª—å –∏ —Ü–µ–ø–æ—á–∫–∏ —Ç–æ—á–µ–∫)
- üß† –û–±—É—á–µ–Ω–∏–µ —Å RL –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è GPU 6 –ì–ë (RTX 4050)
- üîß –†–∞—Å—à–∏—Ä—è–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π/–∫–∞—Å—Ç–æ–º–Ω–æ–π –æ–¥–æ–º–µ—Ç—Ä–∏–∏
- üîÑ –ë–µ—Å—à–æ–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ROS2-Gazebo-RLlib
- ‚ö° –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- üõ°Ô∏è –¢—Ä–µ—Ö–∫–æ–Ω—Ç—É—Ä–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (RL/–ü–ò–î/–†—É—á–Ω–æ–π)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
UAV-RL/
‚îú‚îÄ‚îÄ core/                           # –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ environments/               # –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ RL-—Å—Ä–µ–¥
‚îÇ   ‚îú‚îÄ‚îÄ perception/                 # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–µ–Ω—Å–æ—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ control/                    # –°–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ utils/                      # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ simulation/                     # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Gazebo
‚îÇ   ‚îú‚îÄ‚îÄ gazebo/                     
‚îÇ   ‚îî‚îÄ‚îÄ ros2_bridge/                # –ú–æ—Å—Ç ROS2-RLlib
‚îú‚îÄ‚îÄ training/                       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–±—É—á–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ rllib/                      # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ RL
‚îÇ   ‚îú‚îÄ‚îÄ gpu_optimizer/              # –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è GPU
‚îÇ   ‚îî‚îÄ‚îÄ curriculum/                 # –ü–ª–∞–Ω—ã –ø–æ—ç—Ç–∞–ø–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è
‚îú‚îÄ‚îÄ deployment/                     # –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ –¥—Ä–æ–Ω–µ
‚îÇ   ‚îú‚îÄ‚îÄ ros2_nodes/                 # ROS2 —É–∑–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ model_compression/          # –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ real_time_configs/          # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
‚îú‚îÄ‚îÄ configs/                        # –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ env/                        # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Ä–µ–¥
‚îÇ   ‚îî‚îÄ‚îÄ hardware/                   # –ê–ø–ø–∞—Ä–∞—Ç–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îú‚îÄ‚îÄ tests/                          # –¢–µ—Å—Ç—ã —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ unit/                       # –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ integration/                # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ scripts/                        # –£–ø—Ä–∞–≤–ª—è—é—â–∏–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ requirements.txt                # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ ros2_dependencies.txt           # ROS2 –ø–∞–∫–µ—Ç—ã
‚îî‚îÄ‚îÄ Dockerfile                      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
```

## –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Ubuntu 22.04
- ROS2 Jazzy
- NVIDIA –¥—Ä–∞–π–≤–µ—Ä—ã >= 525
- Python 3.8+

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/GEN_BBB/drone-autopilot-rl.git
cd UAV-RL

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt
sudo apt install $(cat ros2_dependencies.txt)

# –°–±–æ—Ä–∫–∞ ROS2 —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
colcon build --symlink-install
source install/setup.bash
```

### –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
```bash
# –ó–∞–ø—É—Å–∫ —Å–∏–º—É–ª—è—Ü–∏–∏
ros2 launch simulation/gazebo/launch/training.launch.py

# –°—Ç–∞—Ä—Ç –æ–±—É—á–µ–Ω–∏—è (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
./scripts/start_training.sh --config configs/env/single_target.yaml
```

### –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ –¥—Ä–æ–Ω–µ
```bash
./scripts/deploy_real.sh --model path/to/optimized_model.trt
```

## –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –°–∏—Å—Ç–µ–º—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- **point_navigation.py**: –°–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∫ –æ–¥–∏–Ω–æ—á–Ω–æ–π —Ü–µ–ª–∏
- **waypoint_tracking.py**: –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ç–æ—á–µ–∫ –º–∞—Ä—à—Ä—É—Ç–∞
- **obstacle_extension.py**: –®–∞–±–ª–æ–Ω –¥–ª—è –±—É–¥—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π

### –ê–¥–∞–ø—Ç–µ—Ä—ã –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è
- **ground_truth.py**: –¢–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ (—Å–∏–º—É–ª—è—Ü–∏—è)
- **odometry_interface.py**: –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–æ–π –æ–¥–æ–º–µ—Ç—Ä–∏–∏
- **sensor_fusion.py**: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å–µ–Ω—Å–æ—Ä–æ–≤

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è RTX 4050
- –ê–≤—Ç–æ–ø–æ–¥–±–æ—Ä —Ä–∞–∑–º–µ—Ä–∞ –±–∞—Ç—á–∞ –ø–æ–¥ 6 –ì–ë VRAM
- Mixed-precision –≤—ã—á–∏—Å–ª–µ–Ω–∏—è (FP16)
- –û—Ñ—Ñ–ª–æ–∞–¥ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ CPU –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π
1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –≤ `obstacle_extension.py`
2. –°–æ–∑–¥–∞—Ç—å –º–∏—Ä —Å –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è–º–∏ –≤ `simulation/gazebo/worlds/`
3. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–µ–Ω—Å–æ—Ä–æ–≤

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–∞—Å—Ç–æ–º–Ω–æ–π –æ–¥–æ–º–µ—Ç—Ä–∏–∏
1. –ù–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å –æ—Ç `odometry_interface.py`
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –∞–¥–∞–ø—Ç–µ—Ä –≤ `sensor_fusion.py`
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ `tests/unit/test_odometry.py`

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
pytest tests/

# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
pytest tests/integration/test_control_switch.py
```

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è NVIDIA RTX 4050 (6 –ì–ë)

## –õ–∏—Ü–µ–Ω–∑–∏—è
Apache 2.0 License
